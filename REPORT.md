# Challenge 1

## ユーザデータと使用量データ 読み込み/保存

- import.py
- arguments
    - -u user_data.csvファイルパス, --user user_data.csvファイルパス
        - ユーザデータcsvからデータを読み取り/保存する。
    - -c consumptionディレクトリパス, --consumption consumptionディレクトリパス
        - consumptionディレクトリ内の<user-id>.csvファイルのデータを読み取り/保存する。
        - ユーザデータを保存してから実行する。

```bash
# dashboardディレクトリに移動
$ cd dashboard
```

#### ユーザデータの保存

- フロントエンドライブラリ
    - Bootstrap4
- チャートライブラリ
    - Chart.js

```bash
$ python manage.py import -u [user.csv path]
```

#### 使用量データの保存

```bash
$ python manage.py import -c [consumption directory]
```

### 問題点

- ~~使用量データの読み込みを複数回行うとデータが重複して保存されてしまう。~~
    - 重複するユーザIDと日付データがcsvで読み込まれた場合、上書きしてデータが重複しないように修正。

## 使用量データの集計の実装

### サマリーページ

#### URL: /summary/

- 日別使用量データの線グラフ( 合計 / 平均 )
- ユーザリスト
    - ユーザID
        - ユーザIDをクリックでユーザ詳細ページへ移動
    - エリア
    - 消費量

### ユーザ詳細ページ

#### URL: /detail/<user_id>/

- 時間ごとの消費量データの線グラフ
- 時間ごとの消費量データ
    - 時刻
    - 消費量
- 日付の変更ボタン
    - `<<` をクリックで前日データに移動
    - `>>` をクリックで翌日データに移動
    - プルダウンの日付を選択すると指定した日付データに移動

### 問題点

- サマリーページの表示が2秒程度かかる。消費量データやユーザが増えてくるとさらに時間がかかる可能性がある。
- サマリーページの消費量グラフは、日にちが増えてくるとグラフが見えづらくなる。
- ユーザ詳細ページで日付が増えてくると日付プルダウンの量が増えてくる。
