{% extends 'consumption/layout.html' %} {% block content %}

<h1>{{ subject_name }}</h1>

<h2>Line Chart of Total Consumption</h2>

<canvas id="consumptionChart"></canvas>
<script type="text/javascript">
  var ctx = document.getElementById("consumptionChart");

  var myRadarChart = new Chart(ctx, {
    type: "line",
    data: {
      labels: {{ chart_labels | safe }},
      datasets: [
        {
          label: "{{ total_consumption_label }}",
          data: {{ chart_data }},
          pointRadius: 0
        }
      ]
    }
  });
</script>

<h2>Userlist</h2>

<table border="1">
  <tr>
    <th>user_id</th>
    <th>area</th>
    <th>tariff</th>
    <th>total</th>
    <th>average</th>
  </tr>
  {% for item in object_list %}
  <tr>
    <td>
      <a href="/detail/{{ item.id }}">{{ item.user_id }}</a>
    </td>
    <td>{{ item.area }}</td>
    <td>{{ item.tariff }}</td>
    <td>{{ item.consumption_total | floatformat }}</td>
    <td>{{ item.consumption_avg | floatformat }}</td>
  </tr>
  {% endfor %}
</table>

{% endblock %}
